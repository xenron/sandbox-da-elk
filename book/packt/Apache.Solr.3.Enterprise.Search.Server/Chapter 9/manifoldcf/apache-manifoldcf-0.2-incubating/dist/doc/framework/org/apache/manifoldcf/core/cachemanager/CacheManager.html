<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_22) on Tue Apr 26 17:51:23 EDT 2011 -->
<TITLE>
CacheManager
</TITLE>

<META NAME="keywords" CONTENT="org.apache.manifoldcf.core.cachemanager.CacheManager class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="CacheManager";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/BaseDescription.LocalCacheClass.html" title="class in org.apache.manifoldcf.core.cachemanager"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.CacheCreateHandle.html" title="class in org.apache.manifoldcf.core.cachemanager"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/manifoldcf/core/cachemanager/CacheManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.manifoldcf.core.cachemanager</FONT>
<BR>
Class CacheManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.manifoldcf.core.cachemanager.CacheManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>CacheManager</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></DL>
</PRE>

<P>
This class implements the cache manager interface, and provides generic cache management
 services.  See the interface for a description of how the services work.  However, since this
 service requires the lock manager, and there is one lock manager per thread, there will
 be one of these service instances per thread as well.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.CacheCreateHandle.html" title="class in org.apache.manifoldcf.core.cachemanager">CacheManager.CacheCreateHandle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the local implementation of ICacheCreateHandle</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.CacheHandle.html" title="class in org.apache.manifoldcf.core.cachemanager">CacheManager.CacheHandle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the local implementation of ICacheHandle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.CacheTransactionHandle.html" title="class in org.apache.manifoldcf.core.cachemanager">CacheManager.CacheTransactionHandle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the class the cache manager uses to keep track of transaction
 relationships and data.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#_rcsid">_rcsid</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/GeneralCache.html" title="class in org.apache.manifoldcf.core.cachemanager">GeneralCache</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#cache">cache</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#cacheLockPrefix">cacheLockPrefix</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ILockManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ILockManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#lockManager">lockManager</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.HashMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#transactionHash">transactionHash</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#CacheManager(org.apache.manifoldcf.core.interfaces.IThreadContext)">CacheManager</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/IThreadContext.html" title="interface in org.apache.manifoldcf.core.interfaces">IThreadContext</A>&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#commitTransaction(java.lang.String)">commitTransaction</A></B>(java.lang.String&nbsp;transactionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commit a cache transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#enterCache(org.apache.manifoldcf.core.interfaces.ICacheDescription[], org.apache.manifoldcf.core.interfaces.StringSet, java.lang.String)">enterCache</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>[]&nbsp;locateObjectDescriptions,
           <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/StringSet.html" title="class in org.apache.manifoldcf.core.interfaces">StringSet</A>&nbsp;invalidateKeys,
           java.lang.String&nbsp;transactionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Second way of doing cache management.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#enterCreateSection(org.apache.manifoldcf.core.interfaces.ICacheHandle)">enterCreateSection</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter a creation critical section.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#expireObjects(long)">expireObjects</A></B>(long&nbsp;currentTimestamp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timed invalidation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#findObjectsAndExecute(org.apache.manifoldcf.core.interfaces.ICacheDescription[], org.apache.manifoldcf.core.interfaces.StringSet, org.apache.manifoldcf.core.interfaces.ICacheExecutor, java.lang.String)">findObjectsAndExecute</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>[]&nbsp;locateObjectDescriptions,
                      <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/StringSet.html" title="class in org.apache.manifoldcf.core.interfaces">StringSet</A>&nbsp;invalidateKeys,
                      <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheExecutor.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheExecutor</A>&nbsp;execObject,
                      java.lang.String&nbsp;transactionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Locate or create a set of objects in the cached object pool, and/or destroy and invalidate
 the same or other objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#hasExpired(java.lang.String, long)">hasExpired</A></B>(java.lang.String&nbsp;key,
           long&nbsp;createTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if object has expired (by looking at file system).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#invalidateKeys(org.apache.manifoldcf.core.interfaces.ICacheHandle)">invalidateKeys</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invalidate keys.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#leaveCache(org.apache.manifoldcf.core.interfaces.ICacheHandle)">leaveCache</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Leave the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#leaveCreateSection(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle)">leaveCreateSection</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Leave the create section.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#lookupObject(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle, org.apache.manifoldcf.core.interfaces.ICacheDescription)">lookupObject</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A>&nbsp;handle,
             <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>&nbsp;objectDescription)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lookup an object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#performInvalidation(org.apache.manifoldcf.core.interfaces.StringSet)">performInvalidation</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/StringSet.html" title="class in org.apache.manifoldcf.core.interfaces">StringSet</A>&nbsp;keys)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform an invalidation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#readSharedData(java.lang.String)">readSharedData</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read an invalidation file contents.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#resetObjectExpiration(org.apache.manifoldcf.core.interfaces.ICacheDescription, long)">resetObjectExpiration</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>&nbsp;objectDescription,
                      long&nbsp;currentTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set object's expiration and LRU.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#rollbackTransaction(java.lang.String)">rollbackTransaction</A></B>(java.lang.String&nbsp;transactionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Roll back a cache transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#saveObject(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle, org.apache.manifoldcf.core.interfaces.ICacheDescription, java.lang.Object)">saveObject</A></B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A>&nbsp;handle,
           <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>&nbsp;objectDescription,
           java.lang.Object&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save a newly created object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#startTransaction(java.lang.String, java.lang.String)">startTransaction</A></B>(java.lang.String&nbsp;startingTransactionID,
                 java.lang.String&nbsp;enclosingTransactionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Begin a cache transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.html#writeSharedData(java.lang.String, long)">writeSharedData</A></B>(java.lang.String&nbsp;key,
                long&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write the invalidation file contents.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="_rcsid"><!-- --></A><H3>
_rcsid</H3>
<PRE>
public static final java.lang.String <B>_rcsid</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#org.apache.manifoldcf.core.cachemanager.CacheManager._rcsid">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="cacheLockPrefix"><!-- --></A><H3>
cacheLockPrefix</H3>
<PRE>
protected static final java.lang.String <B>cacheLockPrefix</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#org.apache.manifoldcf.core.cachemanager.CacheManager.cacheLockPrefix">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="lockManager"><!-- --></A><H3>
lockManager</H3>
<PRE>
protected <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ILockManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ILockManager</A> <B>lockManager</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="cache"><!-- --></A><H3>
cache</H3>
<PRE>
protected static <A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/GeneralCache.html" title="class in org.apache.manifoldcf.core.cachemanager">GeneralCache</A> <B>cache</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="transactionHash"><!-- --></A><H3>
transactionHash</H3>
<PRE>
protected java.util.HashMap <B>transactionHash</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CacheManager(org.apache.manifoldcf.core.interfaces.IThreadContext)"><!-- --></A><H3>
CacheManager</H3>
<PRE>
public <B>CacheManager</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/IThreadContext.html" title="interface in org.apache.manifoldcf.core.interfaces">IThreadContext</A>&nbsp;context)
             throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="findObjectsAndExecute(org.apache.manifoldcf.core.interfaces.ICacheDescription[], org.apache.manifoldcf.core.interfaces.StringSet, org.apache.manifoldcf.core.interfaces.ICacheExecutor, java.lang.String)"><!-- --></A><H3>
findObjectsAndExecute</H3>
<PRE>
public void <B>findObjectsAndExecute</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>[]&nbsp;locateObjectDescriptions,
                                  <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/StringSet.html" title="class in org.apache.manifoldcf.core.interfaces">StringSet</A>&nbsp;invalidateKeys,
                                  <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheExecutor.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheExecutor</A>&nbsp;execObject,
                                  java.lang.String&nbsp;transactionID)
                           throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Locate or create a set of objects in the cached object pool, and/or destroy and invalidate
 the same or other objects.

 For each "locate" object
 described below, one of two things will happen: the execObject's exists() method
 will be called (if the object exists in the cache already), or the execObject's create*()
 family of methods will be called.  When all objects have been declared to the execObject,
 finally the execute() method will be called.  In both cases, all objects are considered
 to be locked, and cannot be invalidated until the lock is cleared (after the end of the called method).

 For the invalidation descriptions, the execObject's destroy() method will be called instead.
 The object will be invalidated from the cache at the end of the findObjectsAndExecute() operation.

 It is perfectly legal to include the same object in both the locate set and the invalidate set!

 If an error occurs during object creation, the execute() method will NOT be called.  If the
 execute() method has an error, the objects that were created will still be recorded in the cache.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#findObjectsAndExecute(org.apache.manifoldcf.core.interfaces.ICacheDescription[], org.apache.manifoldcf.core.interfaces.StringSet, org.apache.manifoldcf.core.interfaces.ICacheExecutor, java.lang.String)">findObjectsAndExecute</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>locateObjectDescriptions</CODE> - is a set of description objects that uniquely describe the objects needed.<DD><CODE>invalidateKeys</CODE> - is the set of keys to invalidate at the end of the execution.<DD><CODE>execObject</CODE> - is the cache execution object whose create() or execute() methods will
 be called.<DD><CODE>transactionID</CODE> - is the current transaction identifier, or null.  Objects created within this call
 will be associated with this transaction; they will be purged from the cache should the transaction
 be rolled back.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="enterCache(org.apache.manifoldcf.core.interfaces.ICacheDescription[], org.apache.manifoldcf.core.interfaces.StringSet, java.lang.String)"><!-- --></A><H3>
enterCache</H3>
<PRE>
public <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A> <B>enterCache</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>[]&nbsp;locateObjectDescriptions,
                               <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/StringSet.html" title="class in org.apache.manifoldcf.core.interfaces">StringSet</A>&nbsp;invalidateKeys,
                               java.lang.String&nbsp;transactionID)
                        throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Second way of doing cache management.
 Basically, this approach breaks the findObjectsAndExecute() method down into bite-sized chunks.
 The goal is additional flexibility, and an executor object does not need to be defined.
 Pretty much everything else is identical.  The objects returned by the manager methods
 provide context control and enforce the proper ordering and nesting.
 This method enters the cacher and builds a cache handle.  Once a cache handle is
 returned, the calling code MUST, under all circumstances, leave the cache using the
 same handle.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#enterCache(org.apache.manifoldcf.core.interfaces.ICacheDescription[], org.apache.manifoldcf.core.interfaces.StringSet, java.lang.String)">enterCache</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>locateObjectDescriptions</CODE> - is a set of description objects that uniquely describe the objects needed.
 May be null if no objects are desired.<DD><CODE>invalidateKeys</CODE> - are the keys to invalidate after successful execution.  May be null.<DD><CODE>transactionID</CODE> - is the current transaction identifier, or null.  Objects created within this block
 will be associated with this transaction; they will be purged from the cache should the transaction
 be rolled back.
<DT><B>Returns:</B><DD>a cache handle.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="enterCreateSection(org.apache.manifoldcf.core.interfaces.ICacheHandle)"><!-- --></A><H3>
enterCreateSection</H3>
<PRE>
public <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A> <B>enterCreateSection</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A>&nbsp;handle)
                                      throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Enter a creation critical section.  This insures that only one thread is
 creating the specified objects at a time.  This MUST be paired with
 a leaveCreateSection() method call, whatever happens.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#enterCreateSection(org.apache.manifoldcf.core.interfaces.ICacheHandle)">enterCreateSection</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - is the cache handle.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="lookupObject(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle, org.apache.manifoldcf.core.interfaces.ICacheDescription)"><!-- --></A><H3>
lookupObject</H3>
<PRE>
public java.lang.Object <B>lookupObject</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A>&nbsp;handle,
                                     <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>&nbsp;objectDescription)
                              throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Lookup an object.  Returns null if object not found.  If it is found,
 object's LRU and expiration info are updated.  The objectDescription passed
 MUST be one of the ones specified in the enclosing enterCache() method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#lookupObject(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle, org.apache.manifoldcf.core.interfaces.ICacheDescription)">lookupObject</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - is the handle to use for the create.<DD><CODE>objectDescription</CODE> - is the description of the object to look up.
<DT><B>Returns:</B><DD>the object, or null if not found.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="hasExpired(java.lang.String, long)"><!-- --></A><H3>
hasExpired</H3>
<PRE>
protected boolean <B>hasExpired</B>(java.lang.String&nbsp;key,
                             long&nbsp;createTime)
                      throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Check if object has expired (by looking at file system).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - is the invalidation key.<DD><CODE>createTime</CODE> - is the creation time.
<DT><B>Returns:</B><DD>true if expired, false otherwise.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="resetObjectExpiration(org.apache.manifoldcf.core.interfaces.ICacheDescription, long)"><!-- --></A><H3>
resetObjectExpiration</H3>
<PRE>
protected void <B>resetObjectExpiration</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>&nbsp;objectDescription,
                                     long&nbsp;currentTime)</PRE>
<DL>
<DD>Set object's expiration and LRU.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objectDescription</CODE> - is the description object.<DD><CODE>currentTime</CODE> - is the current time in milliseconds since epoch.</DL>
</DD>
</DL>
<HR>

<A NAME="saveObject(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle, org.apache.manifoldcf.core.interfaces.ICacheDescription, java.lang.Object)"><!-- --></A><H3>
saveObject</H3>
<PRE>
public void <B>saveObject</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A>&nbsp;handle,
                       <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheDescription.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheDescription</A>&nbsp;objectDescription,
                       java.lang.Object&nbsp;object)
                throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Save a newly created object.  The object MUST be one of those identified in the
 enterCache() method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#saveObject(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle, org.apache.manifoldcf.core.interfaces.ICacheDescription, java.lang.Object)">saveObject</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - is the create handle.<DD><CODE>objectDescription</CODE> - is the object description.<DD><CODE>object</CODE> - is the object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="leaveCreateSection(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle)"><!-- --></A><H3>
leaveCreateSection</H3>
<PRE>
public void <B>leaveCreateSection</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheCreateHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheCreateHandle</A>&nbsp;handle)
                        throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Leave the create section.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#leaveCreateSection(org.apache.manifoldcf.core.interfaces.ICacheCreateHandle)">leaveCreateSection</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - is the handle created by the corresponding enterCreateSection() method.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="invalidateKeys(org.apache.manifoldcf.core.interfaces.ICacheHandle)"><!-- --></A><H3>
invalidateKeys</H3>
<PRE>
public void <B>invalidateKeys</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A>&nbsp;handle)
                    throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Invalidate keys.  The keys invalidated are what got passed to the enterCache() method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#invalidateKeys(org.apache.manifoldcf.core.interfaces.ICacheHandle)">invalidateKeys</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - is the cache handle.  Does nothing if a null set of keys was passed in.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="performInvalidation(org.apache.manifoldcf.core.interfaces.StringSet)"><!-- --></A><H3>
performInvalidation</H3>
<PRE>
protected void <B>performInvalidation</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/StringSet.html" title="class in org.apache.manifoldcf.core.interfaces">StringSet</A>&nbsp;keys)
                            throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Perform an invalidation.  Assume all appropriate locks are in place.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>keys</CODE> - is the set of keys to invalidate.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="leaveCache(org.apache.manifoldcf.core.interfaces.ICacheHandle)"><!-- --></A><H3>
leaveCache</H3>
<PRE>
public void <B>leaveCache</B>(<A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheHandle.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheHandle</A>&nbsp;handle)
                throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Leave the cache.  Must be paired with enterCache, above.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#leaveCache(org.apache.manifoldcf.core.interfaces.ICacheHandle)">leaveCache</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - is the handle of the cache we are leaving.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startTransaction(java.lang.String, java.lang.String)"><!-- --></A><H3>
startTransaction</H3>
<PRE>
public void <B>startTransaction</B>(java.lang.String&nbsp;startingTransactionID,
                             java.lang.String&nbsp;enclosingTransactionID)
                      throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Begin a cache transaction.
 This keeps track of the relationship between objects cached within transactions.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#startTransaction(java.lang.String, java.lang.String)">startTransaction</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>startingTransactionID</CODE> - is the id of the transaction that is starting.<DD><CODE>enclosingTransactionID</CODE> - is the id of the transaction that is in effect, or null.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commitTransaction(java.lang.String)"><!-- --></A><H3>
commitTransaction</H3>
<PRE>
public void <B>commitTransaction</B>(java.lang.String&nbsp;transactionID)
                       throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Commit a cache transaction.
 This method MUST be called when a transaction successfully ends, or open locks will not be closed!!!
 All cache activity that has taken place inside the transaction will be resolved, and the cache locks
 held open will be released.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#commitTransaction(java.lang.String)">commitTransaction</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transactionID</CODE> - is the id of the transaction that is ending.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="rollbackTransaction(java.lang.String)"><!-- --></A><H3>
rollbackTransaction</H3>
<PRE>
public void <B>rollbackTransaction</B>(java.lang.String&nbsp;transactionID)
                         throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Roll back a cache transaction.
 This method releases all objects cached against the ending transaction ID, and releases all locks
 held for the transaction.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#rollbackTransaction(java.lang.String)">rollbackTransaction</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transactionID</CODE> - is the id of the transaction that is ending.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="expireObjects(long)"><!-- --></A><H3>
expireObjects</H3>
<PRE>
public void <B>expireObjects</B>(long&nbsp;currentTimestamp)
                   throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Timed invalidation.  Call this periodically to get rid of all objects that have expired.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html#expireObjects(long)">expireObjects</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ICacheManager.html" title="interface in org.apache.manifoldcf.core.interfaces">ICacheManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>currentTimestamp</CODE> - is the current time in milliseconds since epoch.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="readSharedData(java.lang.String)"><!-- --></A><H3>
readSharedData</H3>
<PRE>
protected long <B>readSharedData</B>(java.lang.String&nbsp;key)
                       throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Read an invalidation file contents.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - is the cache key name.
<DT><B>Returns:</B><DD>the invalidation time, or 0 if none.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="writeSharedData(java.lang.String, long)"><!-- --></A><H3>
writeSharedData</H3>
<PRE>
protected void <B>writeSharedData</B>(java.lang.String&nbsp;key,
                               long&nbsp;value)
                        throws <A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></PRE>
<DL>
<DD>Write the invalidation file contents.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - is the cache key name.<DD><CODE>value</CODE> - is the invalidation timestamp.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/BaseDescription.LocalCacheClass.html" title="class in org.apache.manifoldcf.core.cachemanager"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/manifoldcf/core/cachemanager/CacheManager.CacheCreateHandle.html" title="class in org.apache.manifoldcf.core.cachemanager"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/manifoldcf/core/cachemanager/CacheManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
